<!DOCTYPE html>
<html>
  <head>
    <title>CARGA DE JQuery versión 3.3.1</title>
    <meta charset="utf-8" />
    <meta author="Santiago Alonso Gómez" />
    <meta description="Página que carga JQuery" />
    <meta keywords="Prueba inicial" />

<style>
    #cargando {
	    visibility: hidden;
    }
</style>


<script>

/*   Usando JQuery

  function llamada() {
	$("#cargando").css("visibility", "visible");
	$.ajax({
		url : 'http://localhost/05_Ajax_datos.php',
		type : 'GET',
		data : { dni : document.forms[0].dni.value,
			 nombre : document.forms[0].nombre.value },
		timeout : 3000,
		success : function(resultado) {
				$("#datos").html(resultado);
			  },
		error : function() {
				$("#datos").html("Error en recepción de datos");
			  },
                complete : function() {
//				$("#cargando").css("visibility", "hidden");
				$("#completo").html("Operación completada");
			  }
	});
  }
*/

//              Sin usar JQuery
  function llamada() {
	document.getElementById("cargando").style.visibility = "visible";
	var obj_xhttp = new XMLHttpRequest();
	obj_xhttp.onreadystatechange = function() {
		if (this.readyState == 4 && this.status == 200) {
			document.getElementById("datos").innerHTML = this.responseText;
		}
	    
	}
	obj_xhttp.open("GET", "http://localhost/07_Ajax_js.php", true);
	obj_xhttp.send();
  }
</script>

  </head>
  <body>
<form>
DNI.......- <input type="text" name="dni" /><br><br>
Nombre.- <input type="text" name="nombre" /> <br><br><br>
<div id="cargando">Cargando ...</div>
<div id="datos"></div>
<div id="completo"></div>
<img src="enviar.jpeg" onclick='llamada();'/>
</form>
  </body>
</html>
